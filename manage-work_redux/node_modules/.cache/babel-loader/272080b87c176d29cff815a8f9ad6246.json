{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\ReactJS\\\\manage-work_redux\\\\src\\\\components\\\\TaskForm.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions/index';\n\nclass TaskForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.UNSAFE_componentWillMount = () => {\n      if (this.props.itemEditting) {\n        this.setState({\n          id: this.props.itemEditting.id,\n          name: this.props.itemEditting.name,\n          status: this.props.itemEditting.status\n        });\n      } else {\n        this.reset();\n      }\n    };\n\n    this.reset = () => {\n      this.setState(this.baseState);\n    };\n\n    this.onCloseForm = () => {\n      this.props.onCloseForm();\n    };\n\n    this.onChange = event => {\n      let name = event.target.name;\n      let value = event.target.value;\n\n      if (name === \"status\") {\n        if (value === 'true') {\n          value = true;\n        } else {\n          value = false;\n        }\n      }\n\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.onSubmit = data => {\n      data.preventDefault();\n      this.props.onAddTask(this.state);\n      this.reset();\n    };\n\n    this.state = {\n      id: '',\n      name: '',\n      status: true\n    };\n    this.baseState = this.state;\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps) {\n      if (!nextProps.itemEditting) {\n        this.setState(this.baseState);\n        console.log(nextProps);\n      } else {\n        this.setState({\n          id: nextProps.itemEditting.id,\n          name: nextProps.itemEditting.name,\n          status: nextProps.itemEditting.status\n        });\n      }\n    }\n  }\n\n  render() {\n    var id = this.state.id;\n    if (!this.props.isDisplayForm) return \"\";\n    return React.createElement(\"div\", {\n      className: \"panel panel-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"panel-heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"panel-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, id === '' ? \"Thêm công việc\" : \"Cập nhật công việc\", React.createElement(\"span\", {\n      onClick: this.onCloseForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"far fa-window-close\",\n      style: {\n        float: 'right'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"panel-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      id: \"formTask\",\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"T\\xEAn: \"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"name\",\n      onChange: this.onChange,\n      value: this.state.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Tr\\u1EA1ng th\\xE1i: \"), React.createElement(\"select\", {\n      name: \"status\",\n      className: \"form-control\",\n      onChange: this.onChange,\n      value: this.state.status,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \" K\\xEDch ho\\u1EA1t \"), React.createElement(\"option\", {\n      value: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \" \\u1EA8n\"))), React.createElement(\"div\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"L\\u01B0u l\\u1EA1i\"), \" \\xA0 \\xA0\", React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-primary\",\n      onClick: this.reset,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"H\\u1EE7y b\\u1ECF\")))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    isDisplayForm: state.isDisplayForm,\n    itemEditting: state.itemEditting\n  };\n};\n\nconst mapDispatchToProps = (dispatch, props) => {\n  return {\n    onAddTask: task => {\n      dispatch(actions.addTask(task));\n    },\n    onCloseForm: () => {\n      dispatch(actions.closeForm());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TaskForm);","map":{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\ReactJS\\manage-work_redux\\src\\components\\TaskForm.js"],"names":["React","connect","actions","TaskForm","Component","constructor","props","UNSAFE_componentWillMount","itemEditting","setState","id","name","status","reset","baseState","onCloseForm","onChange","event","target","value","onSubmit","data","preventDefault","onAddTask","state","UNSAFE_componentWillReceiveProps","nextProps","console","log","render","isDisplayForm","float","mapStateToProps","mapDispatchToProps","dispatch","task","addTask","closeForm"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAO,KAAKC,OAAZ,MAAyB,kBAAzB;;AAEA,MAAMC,QAAN,SAAuBH,KAAK,CAACI,SAA7B,CAAuC;AAEjCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACb,UAAMA,KAAN;;AADa,SAUnBC,yBAVmB,GAUS,MAAM;AAC5B,UAAI,KAAKD,KAAL,CAAWE,YAAf,EAA6B;AACvB,aAAKC,QAAL,CAAc;AACRC,UAAAA,EAAE,EAAG,KAAKJ,KAAL,CAAWE,YAAX,CAAwBE,EADrB;AAERC,UAAAA,IAAI,EAAG,KAAKL,KAAL,CAAWE,YAAX,CAAwBG,IAFvB;AAGRC,UAAAA,MAAM,EAAG,KAAKN,KAAL,CAAWE,YAAX,CAAwBI;AAHzB,SAAd;AAKL,OAND,MAOK;AACC,aAAKC,KAAL;AACL;AACN,KArBkB;;AAAA,SAsCnBA,KAtCmB,GAsCX,MAAM;AACR,WAAKJ,QAAL,CAAc,KAAKK,SAAnB;AACL,KAxCkB;;AAAA,SA0CnBC,WA1CmB,GA0CL,MAAM;AACd,WAAKT,KAAL,CAAWS,WAAX;AACL,KA5CkB;;AAAA,SA8CnBC,QA9CmB,GA8CPC,KAAD,IAAW;AAChB,UAAIN,IAAI,GAAGM,KAAK,CAACC,MAAN,CAAaP,IAAxB;AACA,UAAIQ,KAAK,GAAGF,KAAK,CAACC,MAAN,CAAaC,KAAzB;;AACA,UAAIR,IAAI,KAAK,QAAb,EAAuB;AAEjB,YAAIQ,KAAK,KAAK,MAAd,EAAsB;AAChBA,UAAAA,KAAK,GAAG,IAAR;AACL,SAFD,MAEO;AACDA,UAAAA,KAAK,GAAG,KAAR;AACL;AACN;;AACD,WAAKV,QAAL,CAAc;AACR,SAACE,IAAD,GAAQQ;AADA,OAAd;AAGL,KA5DkB;;AAAA,SA8DnBC,QA9DmB,GA8DPC,IAAD,IAAU;AACfA,MAAAA,IAAI,CAACC,cAAL;AACA,WAAKhB,KAAL,CAAWiB,SAAX,CAAqB,KAAKC,KAA1B;AACA,WAAKX,KAAL;AACL,KAlEkB;;AAEb,SAAKW,KAAL,GAAa;AACPd,MAAAA,EAAE,EAAG,EADE;AAEPC,MAAAA,IAAI,EAAE,EAFC;AAGPC,MAAAA,MAAM,EAAE;AAHD,KAAb;AAKA,SAAKE,SAAL,GAAiB,KAAKU,KAAtB;AACL;;AAeDC,EAAAA,gCAAgC,CAACC,SAAD,EAAY;AACtC,QAAIA,SAAJ,EAAc;AACR,UAAG,CAACA,SAAS,CAAClB,YAAd,EAA2B;AACrB,aAAKC,QAAL,CAAc,KAAKK,SAAnB;AACAa,QAAAA,OAAO,CAACC,GAAR,CAAYF,SAAZ;AACL,OAHD,MAGM;AACA,aAAKjB,QAAL,CAAc;AACRC,UAAAA,EAAE,EAAGgB,SAAS,CAAClB,YAAV,CAAuBE,EADpB;AAERC,UAAAA,IAAI,EAAGe,SAAS,CAAClB,YAAV,CAAuBG,IAFtB;AAGRC,UAAAA,MAAM,EAAGc,SAAS,CAAClB,YAAV,CAAuBI;AAHxB,SAAd;AAKL;AACN;AACN;;AAgCDiB,EAAAA,MAAM,GAAG;AAAA,QACEnB,EADF,GACQ,KAAKc,KADb,CACEd,EADF;AAEH,QAAI,CAAC,KAAKJ,KAAL,CAAWwB,aAAhB,EAA+B,OAAO,EAAP;AAC/B,WAEM;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACM;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEM;AAAI,MAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACQpB,EAAE,KAAK,EAAR,GAAc,gBAAd,GAAiC,oBADxC,EAEM;AAAM,MAAA,OAAO,EAAE,KAAKK,WAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiC;AAAG,MAAA,SAAS,EAAC,qBAAb;AAAmC,MAAA,KAAK,EAAE;AAAEgB,QAAAA,KAAK,EAAE;AAAT,OAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAjC,CAFN,CAFN,CADN,EASM;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACM;AAAM,MAAA,EAAE,EAAC,UAAT;AAAoB,MAAA,QAAQ,EAAE,KAAKX,QAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACM;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADN,EAEM;AACM,MAAA,IAAI,EAAC,MADX;AAEM,MAAA,SAAS,EAAC,cAFhB;AAGM,MAAA,IAAI,EAAC,MAHX;AAIM,MAAA,QAAQ,EAAE,KAAKJ,QAJrB;AAKM,MAAA,KAAK,EAAE,KAAKQ,KAAL,CAAWb,IALxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFN,CADN,EAWM;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADN,EAEM;AACM,MAAA,IAAI,EAAC,QADX;AAEM,MAAA,SAAS,EAAC,cAFhB;AAGM,MAAA,QAAQ,EAAE,KAAKK,QAHrB;AAIM,MAAA,KAAK,EAAE,KAAKQ,KAAL,CAAWZ,MAJxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMM;AAAQ,MAAA,KAAK,EAAE,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BANN,EAOM;AAAQ,MAAA,KAAK,EAAE,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPN,CAFN,CAXN,EAuBM;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACM;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,SAAS,EAAC,iBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADN,gBAEM;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,SAAS,EAAC,iBAAhC;AAAkD,MAAA,OAAO,EAAE,KAAKC,KAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFN,CAvBN,CADN,CATN,CAFN;AA4CL;;AArHgC;;AAwHvC,MAAMmB,eAAe,GAAIR,KAAD,IAAU;AAC5B,SAAO;AACDM,IAAAA,aAAa,EAAGN,KAAK,CAACM,aADrB;AAEDtB,IAAAA,YAAY,EAAGgB,KAAK,CAAChB;AAFpB,GAAP;AAIL,CALD;;AAOA,MAAMyB,kBAAkB,GAAG,CAACC,QAAD,EAAW5B,KAAX,KAAqB;AAC1C,SAAO;AACDiB,IAAAA,SAAS,EAAIY,IAAD,IAAU;AAChBD,MAAAA,QAAQ,CAAChC,OAAO,CAACkC,OAAR,CAAgBD,IAAhB,CAAD,CAAR;AACL,KAHA;AAIDpB,IAAAA,WAAW,EAAG,MAAI;AACZmB,MAAAA,QAAQ,CAAChC,OAAO,CAACmC,SAAR,EAAD,CAAR;AACL;AANA,GAAP;AAQL,CATD;;AAWA,eAAepC,OAAO,CAAC+B,eAAD,EAAkBC,kBAAlB,CAAP,CAA6C9B,QAA7C,CAAf","sourcesContent":["import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport * as actions from '../actions/index'\r\n\r\nclass TaskForm extends React.Component {\r\n\r\n      constructor(props) {\r\n            super(props);\r\n            this.state = {\r\n                  id : '',\r\n                  name: '',\r\n                  status: true\r\n            }\r\n            this.baseState = this.state\r\n      }\r\n\r\n      UNSAFE_componentWillMount = () => {            \r\n            if (this.props.itemEditting) {\r\n                  this.setState({\r\n                        id : this.props.itemEditting.id,\r\n                        name : this.props.itemEditting.name,\r\n                        status : this.props.itemEditting.status,\r\n                  })\r\n            }\r\n            else {\r\n                  this.reset();\r\n            }\r\n      }\r\n\r\n      UNSAFE_componentWillReceiveProps(nextProps) {            \r\n            if (nextProps){\r\n                  if(!nextProps.itemEditting){\r\n                        this.setState(this.baseState)\r\n                        console.log(nextProps)\r\n                  } else{\r\n                        this.setState({\r\n                              id : nextProps.itemEditting.id,\r\n                              name : nextProps.itemEditting.name,\r\n                              status : nextProps.itemEditting.status,\r\n                        })\r\n                  }\r\n            }  \r\n      }\r\n\r\n      reset = () => {\r\n            this.setState(this.baseState)\r\n      }\r\n\r\n      onCloseForm = () => {\r\n            this.props.onCloseForm();\r\n      }\r\n\r\n      onChange = (event) => {\r\n            let name = event.target.name;\r\n            let value = event.target.value;\r\n            if (name === \"status\") {\r\n\r\n                  if (value === 'true') {\r\n                        value = true\r\n                  } else {\r\n                        value = false\r\n                  }\r\n            }\r\n            this.setState({\r\n                  [name]: value,\r\n            });\r\n      }\r\n\r\n      onSubmit = (data) => {\r\n            data.preventDefault();\r\n            this.props.onAddTask(this.state);\r\n            this.reset();\r\n      }\r\n\r\n      render() {\r\n            var {id} = this.state;            \r\n            if (!this.props.isDisplayForm) return \"\";\r\n            return (\r\n\r\n                  <div className=\"panel panel-danger\">\r\n                        <div className=\"panel-heading\">\r\n\r\n                              <h3 className=\"panel-title\">\r\n                                    {(id === '') ? \"Thêm công việc\" : \"Cập nhật công việc\" }\r\n                                    <span onClick={this.onCloseForm}><i className=\"far fa-window-close\" style={{ float: 'right' }}></i></span>\r\n                              </h3>\r\n\r\n                        </div>\r\n                        <div className=\"panel-body\">\r\n                              <form id=\"formTask\" onSubmit={this.onSubmit}>\r\n                                    <div className=\"form-group\">\r\n                                          <label>Tên: </label>\r\n                                          <input\r\n                                                type=\"text\"\r\n                                                className=\"form-control\"\r\n                                                name='name'\r\n                                                onChange={this.onChange}\r\n                                                value={this.state.name}\r\n                                          />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                          <label >Trạng thái: </label>\r\n                                          <select\r\n                                                name=\"status\"\r\n                                                className=\"form-control\"\r\n                                                onChange={this.onChange}\r\n                                                value={this.state.status}\r\n                                          >\r\n                                                <option value={true}> Kích hoạt </option>\r\n                                                <option value={false}> Ẩn</option>\r\n                                          </select>\r\n                                    </div>\r\n                                    <div className=\"text-center\">\r\n                                          <button type=\"submit\" className=\"btn btn-primary\">Lưu lại</button> &nbsp; &nbsp;\r\n                                          <button type=\"button\" className=\"btn btn-primary\" onClick={this.reset}>Hủy bỏ</button>\r\n                                    </div>\r\n                              </form>\r\n                        </div>\r\n                  </div>\r\n\r\n            )\r\n      }\r\n}\r\n\r\nconst mapStateToProps = (state) =>{\r\n      return {\r\n            isDisplayForm : state.isDisplayForm,\r\n            itemEditting : state.itemEditting\r\n      }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, props) => {\r\n      return {\r\n            onAddTask : (task) => {\r\n                  dispatch(actions.addTask(task))                  \r\n            },\r\n            onCloseForm : ()=>{\r\n                  dispatch(actions.closeForm());\r\n            }\r\n      }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TaskForm);\r\n"]},"metadata":{},"sourceType":"module"}